<article class="post" [class]="'post_parent_' + post.id" [id]="post.id">
    <header class="post__header">
        <div class="post__header-details">
            <img src={{post.User.avatar}} alt="">
            <div class="metadata">
                <span class="author">{{post.User.firstName}} {{post.User.lastName}}</span>
                <span class="date">{{post.createdAt | mdate}}</span>
                <span class="autre"></span>
            </div>
        </div>
        <div class="post__header-action">
            <span class="fa fa-ellipsis-h" (click)="toggleMenu('post_'+post.id)"></span>
            <ul class="menu" [class]="'post_' + post.id">
                <li (click)="showPost(post.id)"><span class="fa fa-info"></span>Information</li>
                <li (click)="showEditPostModal(post.id)"><span class="fa fa-edit"></span>Modifier</li>
                <li (click)="deletePost(post.id)"><span class="fa fa-trash"></span>Supprimer</li>
                <li (click)="hidePost(post.id)"><span class="fa fa-eye-slash"></span>Masquer</li>
                <li (click)="signalerPost(post.id)"><span class="fa fa-exclamation-triangle"></span>Signaler</li>
            </ul>
        </div>
    </header>
    <div class="post__body" (click)="showPost(post.id)">
        <div [innerHtml]="post.description"></div>
        <img *ngIf="!post.image.includes('null')" src={{post.image}} alt={{post.title}} >
    </div>
    <footer class="post__footer">
        <div class="metadata d-flex w-100" >
            <div class="thumb" *ngIf="likes > 0">
                <span class="liked">Likes: {{likes}}</span>    
            </div>
            <div class="comment">
                <span [class]="'fa fa-comment-alt '+commented "></span> {{post.Comments.length}}
            </div>
        </div>
        <div class="post__footer-actions border-top pt-1">
            <button class="btn btn-sm btn-light" (click)="likePost(post.id, like)" >
                <span  [class]="'fas fa-thumbs-up ' + liked" ></span> {{likes}}
            </button>
            <button class="btn btn-sm btn-light" (click)="commentThisPost(post.id)">
                Commenter <span [class]="'fa fa-comment-alt '+commented "></span>
            </button>
        </div>
        <div class="post__footer-comment" >
            <form [formGroup]="comment" (submit)="submitComment($event)">
                <input formControlName="commentText" type="text" placeholder="Ecrire un commentaire ..." name="comment" [class]="'post_ '+post.id" [id]="'post_'+post.id">
            </form>
        </div>
    </footer>
</article>
